# Express.js + React (Vite) with SSG

Express.js server (TypeScript, CommonJS) plus a React client built with Vite. Root route `/` serves a prerendered HTML file generated by a simple SSG script.

## Features
- TypeScript with strict type checking
- CommonJS module system
- Docker support
- Development and production builds

## Requirements
- Node.js >= 18

## Setup
```bash
npm install
```

## Development
```bash
# Run client (Vite) and server (ts-node) together
npm run dev

# Type checking without compilation
npm run type-check
```

## Production
```bash
# Build client, prerender HTML, then compile server
npm run build

# Run production build
npm start
```

App will be available at `http://localhost:3000`.

## Configuration
- PORT: set a custom port via environment variable.

## Docker
```bash
# Build and run with Docker
docker-compose up --build
```

## Cloudflare Tunnel (Public Access)
This project uses Cloudflare tunnel for public access instead of ngrok:

```bash
# Start Cloudflare tunnel (shows URL automatically)
make cloudflare-start

# Get the public URL
make cloudflare-url

# Check tunnel status (includes URL)
make cloudflare-status

# View tunnel logs
make cloudflare-logs

# Stop tunnel
make cloudflare-stop
```

### How to get your server URL:
1. **Start the tunnel:** `make cloudflare-start`
2. **The URL will be shown automatically** after starting (wait ~3 seconds)
3. **Get URL anytime:** `make cloudflare-url` or `npm run tunnel:url`
4. **Copy the URL** (looks like `https://abc123-def456.trycloudflare.com`)

### Example output:
```
üåê –ü—É–±–ª–∏—á–Ω—ã–π URL: https://directors-stadium-area-twelve.trycloudflare.com
üìã –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É
```

The tunnel creates a random public URL that you can use to access your application from anywhere on the internet.
